\documentclass{beamer}
\usetheme{Singapore}
\usepackage{changepage}

%\usepackage{pstricks,pst-node,pst-tree}
\usepackage{amssymb,latexsym}
\usepackage{tikz}
\usepackage{graphicx}
\usepackage{fancyvrb}
\usepackage{hyperref}
\usepackage{fancybox}
\usepackage[listings]{tcolorbox}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    language=Python,
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\scriptsize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    escapechar=|,
    frame=single
}

\lstset{style=mystyle}


\newcommand{\bi}{\begin{itemize}}
\newcommand{\li}{\item}
\newcommand{\ei}{\end{itemize}}
\newcommand{\Show}[1]{
\begin{center}
\shadowbox{\begin{minipage}{0.8\textwidth}
          #1
          \end{minipage}}
\end{center}
}
\newcommand{\arrow}{\ensuremath{\rightarrow}}

\newcommand{\uparr}{\ensuremath{\uparrow}}


\newcommand{\fig}[2]{\centerline{\includegraphics[width=#1\textwidth]{#2}}}

\newcommand{\bfr}[1]{\begin{frame}[fragile]\frametitle{{ #1 }}}
\newcommand{\efr}{\end{frame}}

\newcommand{\cola}[1]{\begin{columns}\begin{column}{#1\textwidth}}
\newcommand{\colb}[1]{\end{column}\begin{column}{#1\textwidth}}
\newcommand{\colc}{\end{column}\end{columns}}


\title{Fundamentals of Data Visualization}
\author{Chapter 5}

\begin{document}

\begin{frame}
\maketitle
\end{frame}

\bfr{Visualizing Amounts}
\bi
\li In many scenarios, we are interested in the magnitude of some set of numbers.
  \bi
  \li total sales volume of different brands of cars
  \li total number of people living in different cities
  \li age of olympians performing different sports
  \ei
\li The standard visualization is the bar plot
\li Alternatives are the dot plot and the heatmap.
\ei

\end{frame}

\bfr{Bar chart}
\small
\begin{center}
\begin{tabular}{clr}
Rank & Title & Weekend gross \\\hline
1	&Star Wars: The Last Jedi&	\$71,565,498		\\
2	&Jumanji: Welcome to the Jungle	&\$36,169,328		\\
3	&Pitch Perfect 3	&\$19,928,525		\\
4	&The Greatest Showman&	\$8,805,843		\\
5&	Ferdinand	&\$7,316,746	
\end{tabular}
\end{center}
\fig{.8}{boxoffice-vertical-1.png}
\end{frame}

\bfr{Bar chart problem: labels for each bar}
\fig{.8}{boxoffice-rot-axis-tick-labels-1.png}
\bi
\li Rotated labels are ugly
\ei
\end{frame}

\bfr{Better: horizontal bars}
\fig{1}{boxoffice-horizontal-1.png}
\end{frame}

\bfr{Order matters}

\fig{.9}{boxoffice-horizontal-bad-order-1}
\bi
\li Confusing and difficult to read
\li  If the bars represent unordered categories, order them by ascending or descending data values.
\ei
\end{frame}

\bfr{Use natural orders}

\fig{1}{income-by-age-1.png} 

\end{frame}

\bfr{Sometimes sorting by bar length makes no sense}

\fig{1}{income-by-age-sorted-1.png}
\end{frame}


\bfr{Grouped bar chart}
\fig{1}{income-by-age-race-dodged-1.png}
\bi
\li More than one category
\li Can be confusing
\bi\li e.g. difficult to  compare median incomes across age groups for a given racial group\ei
\ei
\end{frame}

\bfr{Replotting can help}
\fig{1}{income-by-race-age-dodged-1.png}

\bi
\li Makes it easy to compare incomes within racial groups
\ei
\end{frame}

\bfr{Use four plots instead of four colors}
\fig{1}{income-by-age-race-faceted-1.png}
\bi
\li Generally easier to see position than color
\ei
\end{frame}
\end{document}
